<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheet">

    <title>Document</title>


</head>

<body>
    <div class="scroll-viewport">


        <script>
            const query = document.querySelector.bind(document)
            const queryAll = document.querySelectorAll.bind(document)

            const getRandomFrom = (array) => {
                return array[Math.floor(Math.random() * array.length)]
            }

            const getDOMNodeFromHTML = (html) => {
                const el = document.createElement('div')
                el.innerHTML = html
                return el.firstElementChild
            }

            const randomContent = [
                'A thing',
                'A thing',
                'A thing',
                'Another thing',
                'Another thing',
                'Another thing',
                'Something',
                'Something',
                'Something',
                'A random thing',
                'A random thing',
                'A random thing',
                'Averylongthinghere andthentheotherlongthing',
                'Verylongthinghere theotherlongthing',
                'Thing here and thentheotherlong',
                'Averylongthinghere andthentheotherlongthing',
                'Averylongthinghere andthentheotherlongthing',
                'Some random thing with a longer content compared to others',
                'Some random thing with a longer content compared to others',
                'Some random thing with a longer content compared to others',
                'Thing',
                'Thing',
                'Thing',
                '<img src="https://assets.codepen.io/25387/klara-kulikova-7kup71V823I-unsplash.jpg" alt="a picture">'
            ]

            const contentTypes = ['', 'right']

            const getRandomItem = () => {
                const content = getRandomFrom(randomContent)
                const alignment = getRandomFrom(contentTypes)
                return `<div class="item ${alignment}">${content}</div>`
            }

            const container = query('.scroll-viewport')
            let maxItems = 30

            const addItem = () => {
                const contentHTML = getRandomItem()
                const contentNode = getDOMNodeFromHTML(contentHTML)
                container.appendChild(contentNode)
                contentNode.scrollIntoViewIfNeeded()
            }

            const interval = setInterval(() => {
                if (--maxItems < 0) {
                    clearInterval(interval)
                    return
                }
                addItem()
            }, 1000)

            addItem()
            maxItems--
        </script>

    </div>
</body>

</html>